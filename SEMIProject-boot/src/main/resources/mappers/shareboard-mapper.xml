<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.kh.semi.share.model.mapper.ShareBoardMapper">
    <select id="selectShareBoardList" resultType="edu.kh.semi.share.model.dto.ShareBoard">
    SELECT 
        S."BOARD_NO",
        S."BOARD_TITLE", 
        M."MEMBER_NICKNAME", 
        SC."SHARE_BOARD_CATEGORY_NAME", 
        SCD."SHARE_BOARD_CATEGORY_DETAIL_NAME",
        CASE S."SHARE_STATUS" WHEN 'Y' THEN '나눔완료' ELSE '나눔중' END AS 나눔상태,
        S."READ_COUNT"
    FROM "SHARE" S
    JOIN "MEMBER" M ON S."MEMBER_NO" = M."MEMBER_NO"
    JOIN "SHARE_CATEGORY_DETAIL" SCD ON S."SHARE_BOARD_CATEGORY_DETAIL_CODE" = SCD."SHARE_BOARD_CATEGORY_DETAIL_CODE"
    JOIN "SHARE_CATEGORY" SC ON SCD."SHARE_BOARD_CATEGORY_CODE" = SC."SHARE_BOARD_CATEGORY_CODE"
    ORDER BY S."BOARD_WRITE_DATE" DESC
    </select>
		 
</mapper>
