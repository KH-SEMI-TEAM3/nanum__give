<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper
	namespace="edu.kh.semi.board.model.mapper.FreeBoardMapper">

	<!-- 게시글 전체 수 조회 (페이징 계산용) -->
	<select id="selectFreeListCount" resultType="int">
		SELECT COUNT(*)
		FROM
		BOARD
		WHERE BOARD_DEL_FL = 'N'
		AND BOARD_CODE = 2
	</select>

	<!-- 자유게시판 페이징 목록 조회 -->
	<select id="selectFreeList" parameterType="Pagination"
		resultType="Board">
		SELECT
		B.BOARD_NO,
		B.BOARD_TITLE,
		M.MEMBER_NICKNAME,
		B.BOARD_WRITE_DATE,
		B.READ_COUNT
		FROM "BOARD" B
		JOIN "MEMBER" M ON B.MEMBER_NO = M.MEMBER_NO
		WHERE B.BOARD_DEL_FL = 'N'
		AND B.BOARD_CODE = 2
		ORDER BY B.BOARD_NO DESC
		OFFSET #{startRow} ROWS FETCH NEXT #{limit} ROWS ONLY
	</select>

</mapper>
