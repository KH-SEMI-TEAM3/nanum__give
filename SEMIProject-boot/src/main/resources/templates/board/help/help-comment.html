<div id="commentArea">
<!-- 댓글 목록 -->
<ul id="commentList">
  <li class="comment-row"
      th:each="comment : ${board.commentList}"
      th:classappend="${comment.parentCommentNo != 0} ? 'child-comment' : 'parent-comment'"
      th:object="${comment}">
    
    <th:block th:if="*{commentDelFl} == 'Y'">
      삭제된 댓글 입니다
    </th:block>

    <th:block th:if="*{commentDelFl} == 'N'">
      <p class="comment-writer">
        <img th:unless="*{memberImg}" th:src="#{user.default.image}">
        <img th:if="*{memberImg}" th:src="*{memberImg}">
        <span th:text="*{memberNickname}">닉네임</span>
        <span class="comment-date" th:text="*{commentWriteDate}">작성일</span>
      </p>

      <p class="comment-content" th:text="*{commentContent}">댓글 내용</p>

      <div class="comment-btn-area">
        <th:block th:if="${session.loginMember?.memberNo == board.memberNo or session.loginMember?.authority == 0}">
          <button th:onclick="|showInsertComment(*{commentNo}, this)|">답글</button>
        </th:block>

        <th:block th:if="${session.loginMember != null and session.loginMember.memberNo == comment.memberNo}">
          <button th:onclick="|showUpdateComment(*{commentNo}, this)|">수정</button>
          <button th:onclick="|deleteComment(*{commentNo})|">삭제</button>
        </th:block>
      </div>
    </th:block>
  </li>
</ul>

<!-- 댓글 작성 영역 (로그인 상태만) -->
<th:block th:if="${session.loginMember != null}">
  <div class="comment-write-area">
    <textarea id="commentContent"></textarea>
    <button id="addComment">댓글 달기</button>
  </div>
</th:block>
</div>