<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>NonumGive</title>
	<link rel="stylesheet" th:href="@{/css/free/freeboarddetail.css}">
	<th:block th:replace="~{common/common}"></th:block>
</head>

<body>
	<th:block th:replace="~{common/header}" />

	<div class="free-detail-container">
		<div class="free-title-box">
			<!-- 제목에 boardNo 포함 -->
			<h1 class="free-title" th:text="${board.boardTitle}" th:attr="data-board-no=${board.boardNo}">자유 게시판 제목</h1>

			<div class="free-meta">
				<div class="writer-info">
					<img th:src="@{${board.profileImg}}" class="writer-img">
					<span th:text="${board.memberNickname}" class="writer-name">작성자</span>
				</div>
				<div class="date-view">
					<span th:text="${board.boardWriteDate}">2025.05.21</span>
					<span th:text="'조회수 ' + ${board.readCount}">조회수 20</span>
				</div>
			</div>
		</div>

		<div class="free-body-box">
			<div class="free-thumbnail" th:if="${board.thumbnail != null}">
				<img th:src="@{${board.thumbnail}}" alt="대표 이미지">
			</div>

			<div class="free-content" th:text="${board.boardContent}">
				게시글 본문 내용입니다.
			</div>
		</div>

		<div class="free-btn-area">
			<button class="btn modify">수정</button>
			<button class="btn delete"
				th:onclick="|location.href='@{/freeBoard/delete/{no}(no=${board.boardNo})}'|">삭제</button>
			<a class="btn back" th:href="@{/freeBoard/list}">목록보기</a>
		</div>

		<div class="comment-section" th:each="comment : ${commentList}">
			<div class="comment-box">
				<div class="comment-header">
					<div class="comment-writer">
						<img th:src="@{${comment.profileImg}}" alt="프로필" class="comment-img">
						<span th:text="${comment.memberNickname}">유저아이디</span>
						<span th:text="${comment.commentWriteDate}">날짜</span>
					</div>
					<div class="comment-actions">
						<a href="#">수정</a> <a href="#">삭제</a>
					</div>
				</div>
				<div class="comment-content" th:text="${comment.commentContent}">댓글 내용</div>
			</div>
		</div>

		<div class="comment-form" th:if="${session.loginMember != null}">
			<form action="#" method="post">
				<textarea name="commentContent" placeholder="댓글을 입력하세요."></textarea>
				<button type="submit">댓글 달기</button>
			</form>
		</div>
	</div>

	<th:block th:replace="~{common/footer}" />
	<script th:src="@{/js/free/freeboarddetail.js}"></script>
</body>

</html>