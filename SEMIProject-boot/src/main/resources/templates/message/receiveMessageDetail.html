<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>받은 쪽지 상세보기</title>
    <link rel="stylesheet" href="/css/message.css" />
    <th:block th:replace="~{common/common}"></th:block>
    <link rel="stylesheet" href="/css/message.css" />
  </head>
  <body>
    <th:block th:replace="~{common/header}"></th:block>
    <main class="message-wrapper">
      <th:block
        th:replace="~{message/messageSidebar :: messageSidebar(activePage='received')}"
      ></th:block>

      <section class="message-content">
        <h2 th:text="${senderNickname} + ' 님으로부터의 쪽지'">
          보낸 사람 님의 쪽지
        </h2>

        <div class="message-detail-content">
          <div
            class="message-title"
            th:if="${message != null && message.boardNo != null && message.boardNo > 0}"
          >
            <span th:text="'[게시글 번호] ' + ${message.boardNo}"
              >[게시글 번호] 타이틀 제목</span
            >
          </div>

          <div class="message-box">
            <p th:text="${message.messageText}">
              쪽지 내용이 여기에 표시됩니다.
            </p>
          </div>

          <div class="message-date">
            <span th:text="${message.messageWriteDate}"
              >2025-05-21 19:00:00</span
            >
          </div>

          <div class="button-group">
            <a
              href="#"
              class="action-button reply-button"
              th:href="@{/message/send/{memberNo}(memberNo=${message.senderNo}, boardNo=${message.boardNo != null ? message.boardNo : 0})}"
              >답장하기</a
            >
            <form
              method="post"
              th:action="@{/message/inboxDelete/{memberNo}/{messageNo}(memberNo=${message.senderNo}, messageNo=${message.messageNo})}"
              style="display: inline"
              onsubmit="return confirm('이 쪽지를 삭제하시겠습니까?');"
            >
              <input
                type="hidden"
                name="boardNo"
                th:value="${message.boardNo != null ? message.boardNo : 0}"
              />
              <button type="submit" class="action-button delete-button">
                삭제
              </button>
            </form>
            <a
              href="#"
              class="action-button list-button"
              th:href="@{/message/inbox}"
              >목록보기</a
            >
          </div>
        </div>
      </section>
    </main>

    <th:block th:replace="~{common/footer}"></th:block>
  </body>
</html>
