<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>통합 검색 결과</title>
    <link rel="stylesheet" th:href="@{/css/search/result.css}" />
    <th:block th:replace="~{common/common}" />
  </head>
  <body>
    <th:block th:replace="~{common/header}" />

    <div class="search-result-container">
      <h1 th:text="'검색어: ' + ${query}">검색 결과</h1>

      <!-- 자유게시판 -->
      <section>
        <h2>자유게시판 검색 결과</h2>
        <table class="board-list table-area"
          th:if="${freeBoardList != null and !#lists.isEmpty(freeBoardList)}"
        >
          <thead>
            <tr>
              <th>글번호</th>
              <th>제목</th>
              <th>작성자</th>
              <th>작성일</th>
              <th>조회수</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="board : ${freeBoardList}">
              <td th:text="${board.boardNo}">1</td>
              <td>
                <a
                  th:href="@{'/free/view/' + ${board.boardNo}}"
                  th:text="${board.boardTitle}"
                  >제목</a
                >
              </td>
              <td th:text="${board.memberNickname}">작성자</td>
              <td th:text="${board.boardWriteDate}">작성일</td>
              <td th:text="${board.readCount}">조회수</td>
            </tr>
          </tbody>
        </table>

        <p th:if="${freeBoardList != null and #lists.isEmpty(freeBoardList)}">
          검색 결과가 없습니다.
        </p>
<div class="common-pagination"
     th:if="${freePagination != null and freeBoardList != null and !#lists.isEmpty(freeBoardList) and freePagination.listCount > 0}"
     th:object="${freePagination}">
          <a th:href="@{/search/result(query=${query}, freePage=1)}">&laquo;</a>
          <a th:href="@{/search/result(query=${query}, freePage=*{prevPage})}"
            >&lt;</a
          >
          <th:block th:each="i : *{#numbers.sequence(startPage, endPage)}">
            <a
              th:href="@{/search/result(query=${query}, freePage=${i})}"
              th:classappend="${i} == *{currentPage} ? 'active' : null"
              th:text="${i}"
              >1</a
            >
          </th:block>
          <a th:href="@{/search/result(query=${query}, freePage=*{nextPage})}"
            >&gt;</a
          >
          <a th:href="@{/search/result(query=${query}, freePage=*{maxPage})}"
            >&raquo;</a
          >
        </div>
      </section>

<!-- 공지사항 -->
<section>
  <h2>공지사항 검색 결과</h2>

  <table class="board-list table-area"
  th:if="${noticeBoardList != null and !#lists.isEmpty(noticeBoardList)}">
    <thead>
      <tr>
        <th>글번호</th>
        <th>제목</th>
        <th>작성자</th>
        <th>작성일</th>
        <th>조회수</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="board : ${noticeBoardList}">
        <td th:text="${board.boardNo}">1</td>
        <td>
          <a th:href="@{'/notice/' + ${board.boardNo}}"
             th:text="${board.boardTitle}">제목</a>
        </td>
        <td th:text="${board.memberNickname}">작성자</td>
        <td th:text="${board.boardWriteDate}">작성일</td>
        <td th:text="${board.readCount}">조회수</td>
      </tr>
    </tbody>
  </table>

  <p th:if="${noticeBoardList != null and #lists.isEmpty(noticeBoardList)}">
    검색 결과가 없습니다.
  </p>

  <div class="common-pagination"
       th:if="${noticePagination != null and noticeBoardList != null and !#lists.isEmpty(noticeBoardList)}"
       th:object="${noticePagination}">
    <a th:href="@{/search/result(query=${query}, noticePage=1)}">&laquo;</a>
    <a th:href="@{/search/result(query=${query}, noticePage=*{prevPage})}">&lt;</a>
    <th:block th:each="i : *{#numbers.sequence(startPage, endPage)}">
      <a th:href="@{/search/result(query=${query}, noticePage=${i})}"
         th:classappend="${i} == *{currentPage} ? 'active' : null"
         th:text="${i}">1</a>
    </th:block>
    <a th:href="@{/search/result(query=${query}, noticePage=*{nextPage})}">&gt;</a>
    <a th:href="@{/search/result(query=${query}, noticePage=*{maxPage})}">&raquo;</a>
  </div>
</section>

<!-- 나눔 게시판 -->
<section>
  <h2>나눔 게시판 검색 결과</h2>

  <table class="board-list table-area"
   th:if="${shareBoardList != null and !#lists.isEmpty(shareBoardList)}">
    <thead>
      <tr>
        <th>글번호</th>
        <th>제목</th>
        <th>작성자</th>
        <th>작성일</th>
        <th>조회수</th>
        <th>댓글 수</th>
        <th>찜 수</th>
        <th>카테고리</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="board : ${shareBoardList}">
        <td th:text="${board.boardNo}">1</td>
        <td>
          <a th:href="@{/share/{boardNo}(boardNo=${board.boardNo})}"
             th:text="${board.boardTitle}">제목</a>
        </td>
        <td th:text="${board.memberNickname}">작성자</td>
        <td th:text="${board.boardWriteDate}">작성일</td>
        <td th:text="${board.readCount}">조회수</td>
        <td th:text="${board.commentCount}">댓글 수</td>
        <td th:text="${board.jjimCount}">찜 수</td>
        <td>
          <span th:text="${board.shareBoardCategoryName}">카테고리</span>
          /
          <span th:text="${board.shareBoardCategoryDetailName}">세부</span>
        </td>
      </tr>
    </tbody>
  </table>

  <p th:if="${shareBoardList != null and #lists.isEmpty(shareBoardList)}">
    검색 결과가 없습니다.
  </p>

  <div class="common-pagination"
       th:if="${sharePagination != null and shareBoardList != null and !#lists.isEmpty(shareBoardList)}"
       th:object="${sharePagination}">
    <a th:href="@{/search/result(query=${query}, sharePage=1)}">&laquo;</a>
    <a th:href="@{/search/result(query=${query}, sharePage=*{prevPage})}">&lt;</a>
    <th:block th:each="i : *{#numbers.sequence(startPage, endPage)}">
      <a th:href="@{/search/result(query=${query}, sharePage=${i})}"
         th:classappend="${i} == *{currentPage} ? 'active' : null"
         th:text="${i}">1</a>
    </th:block>
    <a th:href="@{/search/result(query=${query}, sharePage=*{nextPage})}">&gt;</a>
    <a th:href="@{/search/result(query=${query}, sharePage=*{maxPage})}">&raquo;</a>
  </div>
</section>

<!-- Q&A 게시판 -->
<section>
  <h2>Q&A 게시판 검색 결과</h2>

  <table class="board-list table-area"
   th:if="${qnaBoardList != null and !#lists.isEmpty(qnaBoardList)}">
    <thead>
      <tr>
        <th>글번호</th>
        <th>제목</th>
        <th>작성자</th>
        <th>작성일</th>
        <th>조회수</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="board : ${qnaBoardList}">
        <td th:text="${board.boardNo}">1</td>
        <td>
          <a th:href="@{/qna/{boardNo}(boardNo=${board.boardNo})}"
             th:text="${board.boardTitle}">제목</a>
        </td>
        <td th:text="${board.memberNickname}">작성자</td>
        <td th:text="${board.boardWriteDate}">작성일</td>
        <td th:text="${board.readCount}">조회수</td>
      </tr>
    </tbody>
  </table>

  <p th:if="${qnaBoardList != null and #lists.isEmpty(qnaBoardList)}">
    검색 결과가 없습니다.
  </p>

  <div class="common-pagination"
       th:if="${qnaPagination != null and qnaBoardList != null and !#lists.isEmpty(qnaBoardList)}"
       th:object="${qnaPagination}">
    <a th:href="@{/search/result(query=${query}, qnaPage=1)}">&laquo;</a>
    <a th:href="@{/search/result(query=${query}, qnaPage=*{prevPage})}">&lt;</a>
    <th:block th:each="i : *{#numbers.sequence(startPage, endPage)}">
      <a th:href="@{/search/result(query=${query}, qnaPage=${i})}"
         th:classappend="${i} == *{currentPage} ? 'active' : null"
         th:text="${i}">1</a>
    </th:block>
    <a th:href="@{/search/result(query=${query}, qnaPage=*{nextPage})}">&gt;</a>
    <a th:href="@{/search/result(query=${query}, qnaPage=*{maxPage})}">&raquo;</a>
  </div>
</section>

    <th:block th:replace="~{common/footer}" />
  </body>
</html>
