<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="#{app.name}">messages.properties app.name</title>

    <!-- templates/common/common.html 조각으로 추가 -->
    <th:block th:replace="~{common/common}"></th:block>
    <link rel="stylesheet" th:href="@{/css/main.css}" />
    <link rel="stylesheet" th:href="@{/css/common/footer.css}" />
  </head>

  <body>
    <!-- common/header 추가-->
    <th:block th:replace="~{common/header}"></th:block>

    <main>
      <!-- Hero Carousel/Slider -->
      <section class="hero-carousel">
        <div class="carousel-container">
          <div class="carousel-slide active">
            <img
              th:src="@{/images/banner1.png}"
              alt="배너1"
              class="carousel-image"
            />
          </div>
          <div class="carousel-slide">
            <img
              th:src="@{/images/banner2.png}"
              alt="배너2"
              class="carousel-image"
            />
          </div>
          <div class="carousel-slide">
            <img
              th:src="@{/images/banner3.png}"
              alt="배너3"
              class="carousel-image"
            />
          </div>

          <!-- Carousel controls -->
          <button class="carousel-btn prev-btn" aria-label="Previous slide">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="carousel-btn next-btn" aria-label="Next slide">
            <i class="fas fa-chevron-right"></i>
          </button>

          <!-- Carousel indicators -->
          <div class="carousel-indicators">
            <button
              class="indicator-btn active"
              data-slide="0"
              aria-label="Go to slide 1"
            ></button>
            <button
              class="indicator-btn"
              data-slide="1"
              aria-label="Go to slide 2"
            ></button>
            <button
              class="indicator-btn"
              data-slide="2"
              aria-label="Go to slide 3"
            ></button>
          </div>
        </div>
      </section>

      <!-- Product Grid Section -->
      <section class="product-section">
        <div class="section-header">
          <h3 class="section-title">지금 어떤 나눔들이 있는지 확인해보세요</h3>
          <a href="/share/list" class="view-all"
            >더보기 <i class="fas fa-chevron-right"></i
          ></a>
        </div>
        <!-- 김동준 메인페이지에서 나눔게시판 접근하게 수정 2025-05-26-->
        <div class="product-grid">
          <div class="product-row" th:each="row : ${groupedShareList}">
            <div class="product-card" th:each="post : ${row}">
              <a
                th:href="@{'/share/detail/' + ${post.boardNo}}"
                class="product-image-container"
              >
                <img
                  th:src="${post.thumbnail != null ? post.thumbnail : '/images/default-thumbnail.jpg'}"
                  alt="썸네일"
                  class="product-image"
                />
                <span class="product-badge" th:text="${post.shareStatus}"
                  >나눔중</span
                >
              </a>
              <div class="product-info">
                <h4 class="product-title" th:text="${post.boardTitle}">제목</h4>
                <div class="product-meta">
                  <span class="product-price">무료나눔</span>
                  <span
                    class="product-views"
                    th:text="'조회수 ' + ${post.readCount}"
                    >조회수</span
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- common/footer 추가-->
    <th:block th:replace="~{common/footer}"></th:block>

    <!-- script 추가-->
    <script th:src="@{/js/carousel.js}"></script>

    <script th:inline="javascript">
      /*<![CDATA[*/
      let message = /*[[${message}]]*/ null;
      if (message) {
        alert(message);
      }
      /*]]>*/
    </script>
  </body>
</html>
